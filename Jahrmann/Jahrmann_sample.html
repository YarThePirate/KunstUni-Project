<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<meta name="author" content="Matt Scola">

	<title>Jahrmann</title>
	<style type="text/css">
		body {
			background-color: black;
		}

		#start_screen {
			height: 100%; width: 100%;
			margin: -10px;
			background-color: white;
			position: absolute;
			z-index: 1;
		}

		#ludic_start {
			position: absolute;
			height: 30%; width: 30%;
			top: 15%; left: 30%;
			border: 5px solid darkred;
			color: darkred;
			font-size: 36px;
		}

		#space_start {
			position: absolute;
			height: 30%; width: 30%;
			top: 50%; left: 35%;
			border: 5px solid darkred;
			color: darkred;
			font-size: 36px;
		}

		.field {
			border: 5px solid white;
			border-radius: 5px;
			height: 95%; width: 95%;
			position: absolute;
		}

		.viewer {
			border: 5px solid white;
			border-radius: 5px;
			height: 95%; width: 95%;
			position: absolute;
			display: none;
		}

		.target_image {
			height: 100px;
			width: 100px;
			position: absolute;
		}

		.gate {
			height: 20px;
			width: 50%;
			position: absolute;
			background-color: black;
			border-color: dotted 2px red;
		}

		.viewer_media {
			height: 50%; width: 50%;
			top: 40%; left: 40%;
			position: absolute;
			/* NOT IN FINAL PRODUCT: START */
			border: dotted 2px red;
			text-align: center;
			color: red;
			/* NOT IN FINAL PRODUCT: END */
		}

		.viewer_text {
			height: 50%; width: 50%;
			top: 10%; left: 10%;
			position: absolute;
			/* NOT IN FINAL PRODUCT: START */
			border: dotted 2px blue;
			text-align: center;
			color: blue;
			/* NOT IN FINAL PRODUCT: END */
		}

		button {
			height: 100px; width: 100px;
			position: absolute;
			bottom: 0; right: 0;
			padding: 0;
			margin: 5px;
			background-color: black;
			border-color: black;
		}

		button:focus {
			outline: 0;
		}

		.home {
			height: 50px; width: 100px;
			bottom: 0; right: 0;
			position: fixed;
			margin: 5px;
			border-radius: 2px;
			background-color: orange;
			text-align: center;
			padding-top: 20px;
			z-index: 2;
		}

		.home a {
			text-decoration: none;
			color: black;
			font-family: sans-serif;
			font-size: 24px;
		}

		.game_over {
			position: absolute;
			top: 50%; left: 50%;
			margin: -176px 0 0 -235px;
			color: white;
			display: none;
		}
	</style>

	<!--
		Javascript Libraries - hosted on web
		(JQuery, JQuery UI, JQuery Mobile, Buzz)
	
	<script src="http://code.jquery.com/jquery-1.11.0.min.js"></script>
	<script src="http://code.jquery.com/ui/1.10.4/jquery-ui.min.js"></script>
	<script src="http://http://code.jquery.com/mobile/1.4.2/jquery.mobile-1.4.2.min.js"></script>
	<script src="http://jaysalvat.github.io/buzz/releases/latest/buzz.min.js"></script>
-->
	<!--
		Javascript Libraries - hosted locally
		(JQuery, JQuery UI, JQuery Mobile, Buzz)
	-->
	<script src="../Scripts/jquery.js"></script>
	<script src="../Scripts/jquery-ui-1.10.4.min.js"></script>
	<script src="../Scripts/jquery-ui-touch-punch-0.2.3.min.js"></script>
	<script src="../Scripts/buzz.min.js"></script>
	<!--script src="../Scripts/jquery-mobile-1.4.2.min.js"></script <== BAD COPY: GET NEW LOCAL COPY OF MOBILE LIBRARY -->

</head>

<body>

	<div id="start_screen">
		<div id="ludic_start">Ludic</div>
		<div id="space_start">Space</div>
	</div>

	<!--	DELETE BELOW IN FINAL?	-->
	<div class="home"><a href="../index.html">Home</a></div>
	<!--	DELETE ABOVE IN FINAL?	-->

	<div class="field">
		<div class="gate" style="left:25%;top:-15px"></div>
		<div class="target_image"><img src="LUDICSPACE/Icons/Icons/IconAnon.gif"></div>
		<div class="target_image"><img src="LUDICSPACE/Icons/Icons/IconCam.gif"></div>
		<div class="target_image"><img src="LUDICSPACE/Icons/Icons/IconGlass.gif"></div>
		<div class="target_image"><img src="LUDICSPACE/Icons/Icons/IconPacman.gif"></div>
		<div class="target_image"><img src="LUDICSPACE/Icons/Icons/IconParcour.gif"></div>
		<div class="target_image"><img src="LUDICSPACE/Icons/Icons/IconSat.gif"></div>
		<div class="target_image"><img src="LUDICSPACE/Icons/Icons/IconZombie.gif"></div>
		<div class="game_over"><img src="LUDICSPACE/Icons/Icons/GameOverScreen.gif"></div>
	</div>

	<div class="viewer">
		<div class="viewer_text">Text Element Goes Here</div>
		<div class="viewer_media">Media Element Goes Here</div>
		<button></button>
		<div class="gate" style="left:25%;bottom:-15px"></div>
	</div>

	<!-- Begin Script -->
	
	<script>
		$(document).ready(function() {
			
			/*
				Instantiates Buzz sounds for StartscreenSelect, IconGrab, and GameOver
			*/
			var start_screen_sound = new buzz.sound("LUDICSPACE/audio/StartscreenSelect.mp3"),
				icon_grab_sound = new buzz.sound("LUDICSPACE/audio/IconGrab.mp3"),
				game_over_sound = new buzz.sound("LUDICSPACE/audio/GameOver.mp3");

			/* Sets Random starting positions for the images,
			clustered near the center */
			var game_counter = 0;

			$('.target_image').each(function() {
				var randomTop = 25 + Math.floor(Math.random() * 50);
				var randomLeft = 25 + Math.floor(Math.random() * 50);
				$(this).css('top', randomTop+'%');
				$(this).css('left', randomLeft+'%');
			})

			/*
				Turns icons into draggables and plays IconGrab sound when dragging begins
			*/
			$(".target_image").draggable( { containment: "parent",
				start: function(event, ui) {
					icon_grab_sound.play();
				}
			});
			

			/*
				Sets properties of the "gate" div:
				- On drop, switches screens
				- On drop, creates a button in bottom right corner
			*/
			$(".gate").droppable({
				drop: function(event, ui) {
					$(".viewer").delay(50).toggle("slide", {direction: "up", easing: "linear"});
					$(".field").toggle("slide", {direction: "down", easing: "linear"});
					$("button").html($(ui.draggable).html());
					$(ui.draggable).fadeOut(500);
					game_counter++;
				},
				tolerance: "touch"
			});

			/*
				Code to make the blank start screen fade away
				and play a sound effect
			*/
			$("#start_screen").click(function() {
				//$("#start_screen").html("<embed height='0px' width='0px' src='LUDICSPACE/audio/StartscreenSelect.mp3'>");
				start_screen_sound.play();
				$("#start_screen").fadeOut();
			});

			/*
				Slides the screen down from the media viewer to
				the image field when the button is clicked.  Also
				keeps track of how many 
			*/
			$("button").click(function() {
				$(".viewer").toggle("slide", {direction: "up", easing: "linear"});
				$(".field").delay(50).toggle("slide", {direction: "down", easing: "linear"});

				if (game_counter === 7) {
					$(".game_over").show();
					game_over_sound.play();
				}
			});
		});
	</script>

</body>
</html>